const draw_tree=function(t){function e(t){let i=d3.event&&d3.event.altKey?5e3:500,l=s.nodes(r).reverse();l.forEach(function(t){t.y=260*t.depth});let a=u.selectAll("g.node").data(l,function(t){return t.id||(t.id=++o)}),c=a.enter().append("svg:g").attr("class","node").attr("transform",function(e){return"translate("+t.y0+","+t.x0+")"}).on("click",function(t){n(t),e(t)});c.append("svg:circle").attr("r",1e-6).style("fill",function(t){return t._children?"lightsteelblue":"#fff"}),c.append("svg:text").attr("x",function(t){return t.children||t._children?-10:10}).attr("dy",".10em").attr("text-anchor",function(t){return t.children||t._children?"end":"start"}).text(function(t){return t.name}).style("fill-opacity",1e-6);let f=a.transition().duration(i).attr("transform",function(t){return"translate("+t.y+","+t.x+")"});f.select("circle").attr("r",4.5).style("fill",function(t){return t._children?"lightsteelblue":"#fff"}),f.select("text").style("fill-opacity",1);let h=a.exit().transition().duration(i).attr("transform",function(e){return"translate("+t.y+","+t.x+")"}).remove();h.select("circle").attr("r",1e-6),h.select("text").style("fill-opacity",1e-6);let y=u.selectAll("path.link").data(s.links(l),function(t){return t.target.id});y.enter().insert("svg:path","g").attr("class","link").attr("d",function(e){let n={x:t.x0,y:t.y0};return d({source:n,target:n})}).transition().duration(i).attr("d",d),y.transition().duration(i).attr("d",d),y.exit().transition().duration(i).attr("d",function(e){let n={x:t.x,y:t.y};return d({source:n,target:n})}).remove(),l.forEach(function(t){t.x0=t.x,t.y0=t.y})}function n(t){t.children?(t._children=t.children,t.children=null):(t.children=t._children,t._children=null)}let r,i=t,l=[20,120,20,120],a=1280-l[1]-l[3],c=1e3-l[0]-l[2],o=0,s=d3.layout.tree().size([c,a]),d=d3.svg.diagonal().projection(function(t){return[t.y,t.x]}),u=d3.select("#app-4 > div.column.is-three-quarters").append("svg").attr("width",a+l[1]+l[3]).attr("height",c+l[0]+l[2]).append("svg:g").attr("transform","translate("+l[3]+","+l[0]+")");(r=i).x0=c/2,r.y0=0,e(r)};